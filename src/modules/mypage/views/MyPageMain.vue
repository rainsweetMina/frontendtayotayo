<template>
  <div class="mypage">
    <h1>ë§ˆì´í˜ì´ì§€</h1>

    <!-- ë©”ë‰´ -->
    <nav class="menu">
      <strong>ë©”ë‰´</strong><br />
      <router-link to="/mypage/favorites">ì¦ê²¨ì°¾ê¸°</router-link> |

      <div class="dropdown">
        <span class="dropdown-label">ë¶„ì‹¤ë¬¼ ì„¼í„° â–¾</span>
        <div class="dropdown-content">
          <router-link to="/mypage/lost">ğŸ“ ë¶„ì‹¤ë¬¼ ì‹ ê³ </router-link>
          <router-link to="/mypage/found">ğŸ“‹ ìŠµë“ë¬¼ ëª©ë¡</router-link>
        </div>
      </div> |

      <router-link to="/mypage/qna">ì§ˆë¬¸/ë‹µë³€</router-link> |
      <router-link to="/mypage/apikey-request">API í‚¤ ë°œê¸‰</router-link>
    </nav>

    <!-- ì‚¬ìš©ì ì •ë³´ -->
    <div v-if="user.name">
      <p>ì•ˆë…•í•˜ì„¸ìš”, <strong>{{ user.name }}</strong>ë‹˜!</p>
      <p><strong>ì´ë©”ì¼:</strong> {{ user.email }}</p>
    </div>

    <hr />

    <router-link to="/mypage/modify">ì •ë³´ ìˆ˜ì •</router-link><br />
    <router-link to="/mypage/password">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</router-link><br />
    <a href="/logout">ë¡œê·¸ì•„ì›ƒ</a><br />
    <router-link to="/mypage/withdraw" style="color: red; margin-top: 10px; display: inline-block;">íšŒì› íƒˆí‡´</router-link>

    <router-view />
  </div>
</template>

<script setup>
import { useUserInfo } from '@/modules/mypage/composables/useUserInfo'

const { user } = useUserInfo()
</script>

<style scoped>
.mypage {
  padding: 20px;
  font-family: sans-serif;
}

.menu {
  margin-bottom: 20px;
}

.dropdown {
  display: inline-block;
  position: relative;
}

.dropdown-label {
  cursor: pointer;
  font-weight: bold;
}

.dropdown-content {
  display: none;
  position: absolute;
  background: white;
  border: 1px solid #ccc;
  z-index: 1;
  padding: 5px;
  white-space: nowrap;
}

.dropdown:hover .dropdown-content {
  display: block;
}

.dropdown-content a {
  display: block;
  text-decoration: none;
  color: black;
}

.dropdown-content a:hover {
  background-color: #f0f0f0;
}
</style>
